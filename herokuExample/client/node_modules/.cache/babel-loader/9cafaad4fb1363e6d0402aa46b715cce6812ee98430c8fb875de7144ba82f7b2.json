{"ast":null,"code":"import _toConsumableArray from\"/Users/gohan/Desktop/emeritus/part_time_august/part3/giphy/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/Users/gohan/Desktop/emeritus/part_time_august/part3/giphy/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/gohan/Desktop/emeritus/part_time_august/part3/giphy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/gohan/Desktop/emeritus/part_time_august/part3/giphy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{Pagination,PaginationItem,PaginationLink}from'reactstrap';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import GifViewer from\"./GifViewer\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function GifSearch(){var apiKey='6HdufP6nLgDzMy9VoZFe9OdpCXZlAu7i';// capture the user input from the search form\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];// handle the data that comes back from our giphy api\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),gifs=_useState4[0],setGifs=_useState4[1];// savedGifs\n// Pagination for Searched Gifs\nvar _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),paginateGifs=_useState6[0],setPaginateGifs=_useState6[1];// pagination config values\nvar pageSize=10;var pageCount=Math.ceil(gifs.length/pageSize);var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),currentPage=_useState8[0],setCurrentPage=_useState8[1];function handlePagination(e,index){e.preventDefault();setCurrentPage(index);slicedGifs(gifs);}var search=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:// This will prevent the page from reloading when submit is clicked\nevent.preventDefault();_context.next=3;return axios.get(\"https://api.giphy.com/v1/gifs/search?q=\".concat(input,\"&api_key=\").concat(apiKey,\"&rating=g\"));case 3:res=_context.sent;console.log(res.data.data);setGifs(res.data.data);slicedGifs(res.data.data);toast(\"You have successfully searched for \".concat(input));case 8:case\"end\":return _context.stop();}},_callee);}));return function search(_x){return _ref.apply(this,arguments);};}();function slicedGifs(gifs){var slicedGifs=gifs.slice(currentPage*pageSize,(currentPage+1)*pageSize);console.log('slicing',slicedGifs);setPaginateGifs(slicedGifs);}// we will want to be able to save this data to a db, but for now localStorage\nvar save=function save(gif_url){console.log(gif_url);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Search for gifs\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:search,children:[/*#__PURE__*/_jsx(\"input\",{value:input,onChange:function onChange(event){return setInput(event.target.value);}}),/*#__PURE__*/_jsx(\"button\",{children:\"Search\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Results for \",input,\" \"]}),/*#__PURE__*/_jsxs(Pagination,{children:[/*#__PURE__*/_jsx(PaginationItem,{disabled:currentPage<=0,children:/*#__PURE__*/_jsx(PaginationLink,{onClick:function onClick(e){return handlePagination(e,currentPage-1);},previous:true,href:\"#\"})}),_toConsumableArray(Array(pageCount)).map(function(page,i){return/*#__PURE__*/_jsx(PaginationItem,{active:i===currentPage,children:/*#__PURE__*/_jsx(PaginationLink,{onClick:function onClick(e){return handlePagination(e,i);},href:\"#\",children:i+1})},i);})]}),/*#__PURE__*/_jsx(GifViewer,{gifs:paginateGifs,buttonAction:save,buttonText:'Save Gif'})]})]});}export default GifSearch;","map":{"version":3,"names":["useEffect","useState","Pagination","PaginationItem","PaginationLink","ToastContainer","toast","GifViewer","axios","jsx","_jsx","jsxs","_jsxs","GifSearch","apiKey","_useState","_useState2","_slicedToArray","input","setInput","_useState3","_useState4","gifs","setGifs","_useState5","_useState6","paginateGifs","setPaginateGifs","pageSize","pageCount","Math","ceil","length","_useState7","_useState8","currentPage","setCurrentPage","handlePagination","e","index","preventDefault","slicedGifs","search","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","res","wrap","_callee$","_context","prev","next","get","concat","sent","console","log","data","stop","_x","apply","arguments","slice","save","gif_url","className","children","onSubmit","value","onChange","target","disabled","onClick","previous","href","_toConsumableArray","Array","map","page","i","active","buttonAction","buttonText"],"sources":["/Users/gohan/Desktop/emeritus/part_time_august/part3/giphy/src/helpers/GifSearch.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Pagination, PaginationItem, PaginationLink } from 'reactstrap';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport GifViewer from \"./GifViewer\";\nimport axios from 'axios'\n\nfunction GifSearch() {\n    const apiKey = '6HdufP6nLgDzMy9VoZFe9OdpCXZlAu7i';\n    // capture the user input from the search form\n    const [input, setInput] = useState('');\n    // handle the data that comes back from our giphy api\n    const [gifs, setGifs] = useState([])\n    // savedGifs\n    // Pagination for Searched Gifs\n    const [paginateGifs, setPaginateGifs] = useState([])\n\n\n    // pagination config values\n    const pageSize = 10\n    const pageCount = Math.ceil(gifs.length / pageSize)\n    const [currentPage, setCurrentPage] = useState(0)\n\n    function handlePagination(e, index) {\n        e.preventDefault();\n        setCurrentPage(index)\n        slicedGifs(gifs)\n    }\n\n    const search = async(event) => {\n        // This will prevent the page from reloading when submit is clicked\n        event.preventDefault();\n\n        const res = await axios.get(`https://api.giphy.com/v1/gifs/search?q=${input}&api_key=${apiKey}&rating=g`)\n        console.log(res.data.data)\n        setGifs(res.data.data)\n        slicedGifs(res.data.data)\n        toast(`You have successfully searched for ${input}`)\n    }\n\n    function slicedGifs(gifs) {\n        const slicedGifs = gifs.slice(currentPage * pageSize, (currentPage + 1) * pageSize)\n        console.log('slicing', slicedGifs)\n        setPaginateGifs(slicedGifs)\n    }\n\n    // we will want to be able to save this data to a db, but for now localStorage\n    const save = (gif_url) => {\n        console.log(gif_url)\n    }\n\n\n    return (\n        <div className=\"container\">\n            <ToastContainer />\n            <div className=\"row\">\n                <h3>Search for gifs</h3>\n                <form onSubmit={search}>\n                    <input value={input} onChange={(event) => setInput(event.target.value)} />\n                    <button>Search</button>\n                </form>\n            </div>\n            <div className=\"row\">\n                <h3>Results for {input} </h3>\n\n                <Pagination>\n                    <PaginationItem disabled={currentPage <= 0}>\n                        <PaginationLink \n                            onClick={e => handlePagination(e, currentPage - 1)}\n                            previous\n                            href=\"#\"    \n                        />\n                        </PaginationItem>\n                        {[...Array(pageCount)].map((page, i) => \n                            <PaginationItem active={i === currentPage} key={i}>\n                                <PaginationLink onClick={e => handlePagination(e, i)} href=\"#\">\n                                    {i + 1}\n                                </PaginationLink>\n                            </PaginationItem>\n                        )}\n                </Pagination>\n\n                <GifViewer \n                    gifs={paginateGifs}\n                    buttonAction={save}\n                    buttonText={'Save Gif'}\n                />\n            </div>\n        </div>\n    )\n}\n\nexport default GifSearch"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}