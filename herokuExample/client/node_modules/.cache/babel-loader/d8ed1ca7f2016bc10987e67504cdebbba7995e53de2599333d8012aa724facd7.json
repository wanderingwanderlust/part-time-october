{"ast":null,"code":"var _jsxFileName = \"/Users/gohan/Desktop/emeritus/part_time_august/part3/giphy/src/helpers/GifSearch.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Pagination, PaginationItem, PaginationLink } from 'reactstrap';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport GifViewer from \"./GifViewer\";\nimport axios from 'axios';\nimport { useAuth } from \"../contexts/authContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction GifSearch() {\n  _s();\n  const apiKey = '6HdufP6nLgDzMy9VoZFe9OdpCXZlAu7i';\n  // capture the user input from the search form\n  const [input, setInput] = useState('');\n  // handle the data that comes back from our giphy api\n  const [gifs, setGifs] = useState([]);\n  // savedGifs\n  // Pagination for Searched Gifs\n  const [paginateGifs, setPaginateGifs] = useState([]);\n  const userData = useAuth();\n  console.log('user', userData.user);\n\n  // pagination config values\n  const pageSize = 10;\n  const pageCount = Math.ceil(gifs.length / pageSize);\n  const [currentPage, setCurrentPage] = useState(0);\n  function handlePagination(e, index) {\n    e.preventDefault();\n    setCurrentPage(index);\n    slicedGifs(gifs);\n  }\n  const search = async event => {\n    // This will prevent the page from reloading when submit is clicked\n    event.preventDefault();\n    const res = await axios.get(`https://api.giphy.com/v1/gifs/search?q=${input}&api_key=${apiKey}&rating=g`);\n    console.log(res.data.data);\n    setGifs(res.data.data);\n    slicedGifs(res.data.data);\n    toast(`You have successfully searched for ${input}`);\n  };\n  function slicedGifs(gifs) {\n    const slicedGifs = gifs.slice(currentPage * pageSize, (currentPage + 1) * pageSize);\n    console.log('slicing', slicedGifs);\n    setPaginateGifs(slicedGifs);\n  }\n\n  // we will want to be able to save this data to a db, but for now localStorage\n  const save = gif => {\n    // This is equivilant to our GIF model\n    console.log('gifs', gif);\n    const gifToPost = {\n      \"url\": gif,\n      \"title\": gif.title,\n      \"user\": {\n        \"id\": userData.user.id\n      }\n    };\n    console.log(gifToPost);\n    axios.post('/gifs', gifToPost).then(res => {\n      console.log(res);\n      toast('Gif has been successfully saved');\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Search for gifs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: search,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: input,\n          onChange: event => setInput(event.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Results for \", input, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n        children: [/*#__PURE__*/_jsxDEV(PaginationItem, {\n          disabled: currentPage <= 0,\n          children: /*#__PURE__*/_jsxDEV(PaginationLink, {\n            onClick: e => handlePagination(e, currentPage - 1),\n            previous: true,\n            href: \"#\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this), [...Array(pageCount)].map((page, i) => /*#__PURE__*/_jsxDEV(PaginationItem, {\n          active: i === currentPage,\n          children: /*#__PURE__*/_jsxDEV(PaginationLink, {\n            onClick: e => handlePagination(e, i),\n            href: \"#\",\n            children: i + 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 33\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 29\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(GifViewer, {\n        gifs: paginateGifs,\n        buttonAction: save,\n        buttonText: 'Save Gif'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 9\n  }, this);\n}\n_s(GifSearch, \"qZBCNGrUTJAaUYI/6megObMj71I=\", false, function () {\n  return [useAuth];\n});\n_c = GifSearch;\nexport default GifSearch;\nvar _c;\n$RefreshReg$(_c, \"GifSearch\");","map":{"version":3,"names":["useEffect","useState","Pagination","PaginationItem","PaginationLink","ToastContainer","toast","GifViewer","axios","useAuth","jsxDEV","_jsxDEV","GifSearch","_s","apiKey","input","setInput","gifs","setGifs","paginateGifs","setPaginateGifs","userData","console","log","user","pageSize","pageCount","Math","ceil","length","currentPage","setCurrentPage","handlePagination","e","index","preventDefault","slicedGifs","search","event","res","get","data","slice","save","gif","gifToPost","title","id","post","then","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","disabled","onClick","previous","href","Array","map","page","i","active","buttonAction","buttonText","_c","$RefreshReg$"],"sources":["/Users/gohan/Desktop/emeritus/part_time_august/part3/giphy/src/helpers/GifSearch.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Pagination, PaginationItem, PaginationLink } from 'reactstrap';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport GifViewer from \"./GifViewer\";\nimport axios from 'axios'\nimport { useAuth } from \"../contexts/authContext\";\n\nfunction GifSearch() {\n    const apiKey = '6HdufP6nLgDzMy9VoZFe9OdpCXZlAu7i';\n    // capture the user input from the search form\n    const [input, setInput] = useState('');\n    // handle the data that comes back from our giphy api\n    const [gifs, setGifs] = useState([])\n    // savedGifs\n    // Pagination for Searched Gifs\n    const [paginateGifs, setPaginateGifs] = useState([])\n    const userData = useAuth()\n\n    console.log('user',userData.user)\n\n\n    // pagination config values\n    const pageSize = 10\n    const pageCount = Math.ceil(gifs.length / pageSize)\n    const [currentPage, setCurrentPage] = useState(0)\n\n    function handlePagination(e, index) {\n        e.preventDefault();\n        setCurrentPage(index)\n        slicedGifs(gifs)\n    }\n\n    const search = async(event) => {\n        // This will prevent the page from reloading when submit is clicked\n        event.preventDefault();\n\n        const res = await axios.get(`https://api.giphy.com/v1/gifs/search?q=${input}&api_key=${apiKey}&rating=g`)\n        console.log(res.data.data)\n        setGifs(res.data.data)\n        slicedGifs(res.data.data)\n        toast(`You have successfully searched for ${input}`)\n    }\n\n    function slicedGifs(gifs) {\n        const slicedGifs = gifs.slice(currentPage * pageSize, (currentPage + 1) * pageSize)\n        console.log('slicing', slicedGifs)\n        setPaginateGifs(slicedGifs)\n    }\n\n    // we will want to be able to save this data to a db, but for now localStorage\n    const save = (gif) => {\n        // This is equivilant to our GIF model\n        console.log('gifs', gif)\n        const gifToPost = {\n            \"url\": gif,\n            \"title\": gif.title,\n            \"user\": {\n                \"id\": userData.user.id\n            }\n        }\n        console.log(gifToPost)\n\n        axios.post('/gifs', gifToPost).then((res) => {\n            console.log(res)\n            toast('Gif has been successfully saved')\n        })\n\n\n        \n    }\n\n\n    return (\n        <div className=\"container\">\n            <ToastContainer />\n            <div className=\"row\">\n                <h3>Search for gifs</h3>\n                <form onSubmit={search}>\n                    <input value={input} onChange={(event) => setInput(event.target.value)} />\n                    <button>Search</button>\n                </form>\n            </div>\n            <div className=\"row\">\n                <h3>Results for {input} </h3>\n\n                <Pagination>\n                    <PaginationItem disabled={currentPage <= 0}>\n                        <PaginationLink \n                            onClick={e => handlePagination(e, currentPage - 1)}\n                            previous\n                            href=\"#\"    \n                        />\n                        </PaginationItem>\n                        {[...Array(pageCount)].map((page, i) => \n                            <PaginationItem active={i === currentPage} key={i}>\n                                <PaginationLink onClick={e => handlePagination(e, i)} href=\"#\">\n                                    {i + 1}\n                                </PaginationLink>\n                            </PaginationItem>\n                        )}\n                </Pagination>\n\n                <GifViewer \n                    gifs={paginateGifs}\n                    buttonAction={save}\n                    buttonText={'Save Gif'}\n                />\n            </div>\n        </div>\n    )\n}\n\nexport default GifSearch"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}